<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>VALTIX â€“ Producto</title>
  <meta name="theme-color" content="#000000" />
  <link rel="stylesheet" href="./style.css" />

  <!-- SEO estÃ¡tico base (el dinÃ¡mico lo ajusta product.js) -->
  <meta name="description" content="VALTIX | Ropa urbana premium â€“ calidad, estilo y actitud. Compra camisetas, sudaderas y mÃ¡s con envÃ­o a todo el mundo.">
  <meta name="keywords" content="VALTIX, ropa urbana, streetwear, camisetas, sudaderas, printful, tienda online, dropshipping">
  <meta property="og:type" content="product">
  <meta property="og:title" content="VALTIX â€“ Producto">
  <meta property="og:description" content="Ropa urbana premium con envÃ­o internacional. Pagos seguros con Stripe.">
  <meta property="og:image" content="https://adrianrs928222.github.io/VALTIXSHOP/img/valtix-v__verde.jpg">
  <meta property="og:url" content="https://adrianrs928222.github.io/VALTIXSHOP/">
  <meta property="og:site_name" content="VALTIX">

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json">
  <link rel="icon" href="./img/icon-192.png">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <style>
    .prod { padding: 24px 0; }
    .prod-inner { display: grid; grid-template-columns: 1.1fr 0.9fr; gap: 24px; }
    .gallery { display: grid; gap: 10px; }
    .main-img { width:100%; aspect-ratio: 1/1; object-fit: cover; border:1px solid var(--border); border-radius: 12px; background:#f6f6f6; }
    .thumbs { display:flex; gap:10px; flex-wrap:wrap; }
    .thumbs img { width:72px; height:72px; object-fit:cover; border:1px solid var(--border); border-radius:8px; cursor:pointer; }
    .thumbs img.active { outline:2px solid #000; }
    @media (max-width: 960px){ .prod-inner{ grid-template-columns: 1fr; } }
  </style>

  <!-- JSON-LD SEO (rellenos por product.js) -->
  <script id="breadcrumbs-jsonld" type="application/ld+json"></script>
  <script id="product-jsonld" type="application/ld+json"></script>
</head>
<body>
  <div class="envio-bar">ðŸšš EnvÃ­os gratis en pedidos superiores a 60â‚¬</div>

  <header class="header">
    <div class="container header-inner">
      <a class="brand" href="./" aria-label="Inicio VALTIX">
        <span class="brand-logo">V</span><span class="brand-name">VALTIX</span>
      </a>
      <button id="menu-toggle" class="menu-toggle" aria-label="Abrir menÃº" aria-expanded="false" aria-controls="main-nav">â˜°</button>
      <nav id="main-nav" class="nav" aria-label="CategorÃ­as">
        <a href="./#c/camisetas">Camisetas</a>
        <a href="./#c/sudaderas">Sudaderas</a>
        <a href="./#c/pantalones">Pantalones</a>
        <a href="./#c/zapatos">Zapatos</a>
        <a href="./#c/accesorios">Accesorios</a>
      </nav>
      <button id="openCart" class="cart-btn" aria-haspopup="dialog">
        Carrito <span id="cartCount" class="cart-count">0</span>
      </button>
    </div>
  </header>

  <main class="main prod">
    <div class="container prod-inner">
      <section class="gallery" aria-label="GalerÃ­a de producto">
        <img id="mainImg" class="main-img" alt="Imagen principal del producto">
        <div id="thumbs" class="thumbs"></div>
      </section>

      <section aria-label="Detalles de producto">
        <h1 id="pName">Producto</h1>
        <div id="pPrice" class="card-price" style="font-size:1.1rem;"></div>

        <div class="options color-selector" id="colorWrap" role="group" aria-label="Colores"></div>
        <div class="options" id="sizeWrap" role="group" aria-label="Tallas"></div>

        <button id="addBtn" class="btn" disabled>AÃ±adir al carrito</button>
      </section>
    </div>
  </main>

  <!-- Drawer Carrito -->
  <div class="drawer-backdrop" id="drawerBackdrop"></div>
  <aside id="cartDrawer" class="drawer" aria-hidden="true" aria-label="Carrito de compra">
    <div class="drawer-header">
      <h3>Tu carrito</h3>
      <button id="closeCart" aria-label="Cerrar carrito">âœ•</button>
    </div>
    <div id="cartItems" class="drawer-body"></div>
    <div class="drawer-footer">
      <div class="subtotal"><span>Subtotal</span><strong id="subtotal">0,00 â‚¬</strong></div>
      <button id="clearCart" class="btn btn-alt">Vaciar carrito</button>
      <button id="checkoutBtn" class="btn">Pagar</button>
    </div>
  </aside>

  <!-- GA4 (reemplaza G-VALTIX001 por tu ID real) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VALTIX001"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-VALTIX001', { send_page_view: true });

    document.addEventListener("click",(e)=>{
      if(e.target && e.target.id === "addBtn"){
        const name = document.getElementById('pName')?.innerText || 'Producto';
        const priceText = document.getElementById('pPrice')?.innerText || "0";
        const price = parseFloat(priceText.replace(/[^\d.,]/g,"").replace(",","."));
        gtag('event', 'add_to_cart', {
          currency: 'EUR',
          value: isNaN(price) ? 0 : price,
          items: [{ item_name: name }]
        });
      }
    });
  </script>

  <script src="./product.js?v=2"></script>
  <script>
    // MenÃº hamburguesa (mÃ³vil)
    document.addEventListener("DOMContentLoaded", ()=>{
      const btn = document.getElementById("menu-toggle");
      const nav = document.getElementById("main-nav");
      if(btn && nav){
        btn.addEventListener("click", ()=>{
          const isOpen = nav.classList.toggle("show");
          btn.setAttribute("aria-expanded", String(isOpen));
        });
        nav.querySelectorAll("a").forEach(a => a.addEventListener("click", ()=>{
          nav.classList.remove("show"); btn.setAttribute("aria-expanded","false");
        }));
      }
      // PWA
      if("serviceWorker" in navigator){ navigator.serviceWorker.register("./sw.js"); }
    });
  </script>
</body>
</html>